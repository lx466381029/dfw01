# 前端开发指南

## 主菜单界面设计

### 布局规范
1. 游戏标题
   - 位置：屏幕顶部居中（y=200px）
   - 字体：思源黑体，96px
   - 颜色：深灰色 (#212121)

2. 按钮设计
   - 尺寸：200x50 像素
   - 间距：垂直间距 75px
   - 圆角：5px
   - 字体：思源黑体，32px
   - 按钮类型：
     * 主要按钮：用于关键操作
     * 次要按钮：用于普通操作
     * 危险按钮：用于警告性操作

### 颜色方案
- 主要按钮颜色：#2196F3
- 次要按钮颜色：#757575
- 危险按钮颜色：#F44336
- 悬停状态：颜色加深 20%
- 禁用状态：#BDBDBD
- 文字颜色：白色 (#FFFFFF)
- 背景色：浅灰色 (#F0F0F0)
- 阴影效果：0 2px 4px rgba(0,0,0,0.2)

### 交互设计
1. 按钮状态
   - 普通状态：显示基础颜色
   - 悬停状态：颜色加深，阴影加深
   - 点击状态：轻微缩放(0.95)
   - 禁用状态：显示灰色，无法点击

2. 存档检查
   - 启动时检查存档文件
   - 根据存档状态更新"继续游戏"按钮
   - 存档路径：saves/game_save.json

### 实现注意事项
1. 确保所有文本居中对齐
2. 使用 Pygame 的 Rect 对象处理碰撞检测
3. 实现平滑的状态转换
4. 添加适当的错误处理机制

## 游戏棋盘界面设计

### 布局规范
1. 棋盘设计
   - 尺寸：16 x 9 格子的闭环轨道
   - 每个格子大小：100 x 100 像素
   - 轨道宽度：1个格子
   - 背景色：浅灰色 (#F5F5F5)

2. 格子样式
   - 普通格子：白色 (#FFFFFF)
   - 边框颜色：深灰色 (#424242)
   - 边框宽度：2像素
   - 圆角：5像素

3. 布局计算
   - 外圈：14 x 7 格子围成的矩形
   - 内圈：12 x 5 格子围成的矩形
   - 总格子数：(14 + 12 + 5 + 7) * 2 = 76个格子

### 渲染优先级
1. 背景层
2. 格子层
3. 道具层
4. 玩家层
5. UI层

### 交互设计
1. 格子高亮
   - 鼠标悬停时显示高亮效果
   - 高亮颜色：淡蓝色 (#E3F2FD)
   - 动画过渡：200ms

2. 玩家移动
   - 沿着轨道逐格移动
   - 移动动画：300ms
   - 使用缓动函数实现平滑移动

## 骰子设计规范

### 布局规范
1. 位置
   - 位于闭环轨道内部右下角
   - 点击响应区域：180 x 180 像素
   - 实际骰子大小：80 x 80 像素

2. 视觉设计
   - 骰子颜色：白色 (#FFFFFF)
   - 边框颜色：深灰色 (#424242)
   - 点数颜色规范：
     * 1点和4点：红色 (#F44336)
     * 其他点数：深蓝色 (#1976D2)
   - 阴影效果：轻微的投影
   - 圆角：8像素

### 动画设计
1. 旋转动画
   - 持续时间：1.5秒
   - 帧率：60fps
   - 缓动函数：easeInOutQuad
   - 旋转角度：随机360°~720°
   - 结束时自动对齐到90度的倍数

2. 点击反馈
   - 缩放效果：0.95倍
   - 颜色变暗：10%
   - 持续时间：100ms

3. 状态过渡
   - 初始状态：静止，显示1点
   - 旋转状态：不可点击
   - 结果状态：显示1-6随机点数
   - 渐进式角度修正

### 交互规则
1. 点击响应
   - 仅在静止状态可点击
   - 旋转期间禁用点击
   - 点击时显示视觉反馈

2. 结果展示
   - 数字清晰可见
   - 居中对齐
   - 平滑停止动画

## 时间系统设计规范

### 布局规范
1. 位置
   - 位于骰子响应区域上方
   - 垂直间距：10像素
   - 水平居中对齐

2. 文本设计
   - 字体：思源黑体（simhei）
   - 字号：24px
   - 颜色：深灰色 (#424242)
   - 对齐：水平居中

3. 背景设计
   - 颜色：白色 (#FFFFFF)
   - 内边距：10像素
   - 圆角：5像素
   - 边框：1像素浅灰色 (#C8C8C8)

### 显示格式
1. 时间格式
   - 年月日：X年X月X日
   - 昼夜：昼/夜
   - 示例：1年1月1日 昼

2. 状态变化
   - 昼夜交替：移动后自动切换
   - 日期进度：夜晚结束后日期+1
   - 月份处理：每月30天
   - 年份进度：每12个月进入新年

### 交互规则
1. 时间推进
   - 触发条件：玩家移动完成
   - 推进顺序：昼 -> 夜 -> 昼（新的一天）
   - 自动处理月份和年份变更

2. 显示更新
   - 实时更新显示
   - 无动画过渡
   - 保持界面稳定

### 实现注意事项
1. 文本渲染
   - 确保中文字体正确加载
   - 保持文本清晰可读
   - 避免文字溢出

2. 视觉层次
   - 保持与其他UI元素的协调
   - 确保信息清晰可见
   - 不干扰主要游戏元素

3. 性能优化
   - 缓存字体渲染结果
   - 避免频繁重绘
   - 优化内存使用
